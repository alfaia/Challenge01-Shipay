[tool:pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = 
    --strict-markers
    --disable-warnings
    --cov=src
    --cov-report=html
    --cov-report=term-missing
    --tb=short
    --tb=line
asyncio_mode = auto

markers =
    contract: Contract tests for external APIs (60% of test suite)
    integration: Integration tests for component interaction (30% of test suite)
    unit: Unit tests for business logic (10% of test suite)
    slow: Tests that take longer to run (network calls, performance)
    fast: Quick tests that should run frequently

# Exclude patterns for coverage
omit = 
    venv/*
    tests/*
    __pycache__/*
    */__pycache__/*
    */migrations/*